# 现状对比与差异清单（与 SMB1 风格对照）

本文对比本项目（HTML5 致敬版）与 SMB1 经典机制，列出已实现项、缺失/差异项，作为后续重构与优化的依据。

## 已实现（概览）
- 基础移动/跳跃（含可变跳）、跑动加速、摄像机跟随、瓦片碰撞；
- 旗杆通关（已加入按高度计分 + 剩时折算）；
- 倒计时系统；
- 方块：砖块（强化可顶碎）、问号砖（金币/蘑菇/星星，变已用）、少量隐藏机制；
- 管道分支（主/地下房间切换，1-1 已接入）；
- 敌人与道具：敌人（巡逻）、龟/龟壳（踩壳/滑壳击杀）、金币、蘑菇强化、子弹（火球风格）、星星无敌；
- 粒子与音效（WebAudio 合成）、移动端触控按键、两关以上内容（1-1~1-3）。

## 主要差异/缺失（按优先级）
1) 反馈与表现
   - 旗杆滑落动画与结算（时间换分逐步清算、城堡门动画）；
   - 更丰富的角色帧动画/敌人动画、受击闪烁、壳滑尘粒子、跳跃起落音阶；
   - BGM 与警报音（时间低于 100/50 的急促节奏切换）。

2) 关卡与元素
   - 更多主题：水下（浮力/游泳控制）、城堡（火条/喷火、开关桥）、空中（移动平台密集）；
   - 敌人扩展：食人花、飞鱼/乌贼、Lakitu/铁锤兄弟、炮台（Bullet Bill）、火条（Fire Bar）；
   - 隐藏砖精细规则：隐形出现、连续金币砖、一次性多金币砖计时；
   - Vine（藤蔓）与纵向关卡片段、自动卷轴；
   - Warp Zone（世界捷径）的布置与演出。

3) 系统与数值
   - 生命/1UP 与 Continue 流程（当前为无限复活，需可配置）；
   - 物理细节（加速度/摩擦/空中操控/壳与砖/敌互动更细）；
   - 关卡资源分离与可配置时间/目标分；
   - 存档/进度（世界选择、从中途旗复活）。

4) 工程与工具
   - 关卡编辑/可视化数据（JSON/CSV/自定义编辑器）；
   - 单元测试（碰撞、道具、计分）、E2E 快照（确定性渲染帧）；
   - 打包与资源管线（可选，无外链前提保持纯前端）。

